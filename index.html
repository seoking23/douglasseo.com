<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Douglas Seo - AI Software Engineer & Entrepreneur</title>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/three.js/r128/three.min.js"></script>
    <meta name="description" content="AI Software Engineer & Entrepreneur">
    <link rel="icon" type="image/png" sizes="16x16" href="/public/favicon-16x16.png">
    <link rel="icon" type="image/png" sizes="32x32" href="/public/favicon-32x32.png">
    <link rel="icon" type="image/png" sizes="48x48" href="/public/favicon-48x48.png">
    <link rel="apple-touch-icon" sizes="180x180" href="/public/apple-touch-icon.png">
    
    <!-- Open Graph / Social Media Preview -->
    <meta property="og:type" content="website">
    <meta property="og:url" content="https://douglasseo.com/">
    <meta property="og:title" content="Douglas Seo - AI Software Engineer & Entrepreneur">
    <meta property="og:description" content="UC Berkeley EECS grad with a passion for building impactful products. Founder of Popper LLC, Co-founder of Azetta AI - Cosma.">
    <meta property="og:image" content="https://douglasseo.com/public/optimized/profile_image.webp">
    
    <!-- Twitter Card -->
    <meta property="twitter:card" content="summary">
    <meta property="twitter:url" content="https://douglasseo.com/">
    <meta property="twitter:title" content="Douglas Seo - AI Software Engineer & Entrepreneur">
    <meta property="twitter:description" content="UC Berkeley EECS grad with a passion for building impactful products. Founder of Popper LLC, Co-founder of Azetta AI - Cosma.">
    <meta property="twitter:image" content="https://douglasseo.com/public/optimized/profile_image.webp">
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        
        body {
            font-family: system-ui, -apple-system, sans-serif;
            line-height: 1.6;
            color: #333;
            background: #fff;
        }
        
        .container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 0 1rem;
        }
        
        header {
            padding: 1rem 0;
            border-bottom: 1px solid #e5e5e5;
            position: sticky;
            top: 0;
            background: rgba(255, 255, 255, 0.9);
            backdrop-filter: blur(10px);
            z-index: 100;
        }
        
        nav {
            display: flex;
            justify-content: space-between;
            align-items: center;
        }
        
        .logo {
            font-weight: bold;
            font-size: 1.2rem;
        }
        
        nav ul {
            display: flex;
            list-style: none;
            gap: 2rem;
        }
        
        nav a {
            text-decoration: none;
            color: #333;
            transition: color 0.3s;
        }
        
        nav a:hover {
            color: #0066cc;
        }
        
        section {
            padding: 4rem 0;
            position: relative;
            z-index: 2;
        }
        
        main {
            background: white;
            color: #333;
            position: relative;
        }
        
        :root {
            --scroll-gradient: radial-gradient(circle at center, transparent, #93c5fd);
        }

        main::before {
            content: '';
            position: fixed;
            top: 0;
            left: 0;
            width: 100vw;
            height: 100vh;
            z-index: 0;
            pointer-events: none;
            background-image: var(--scroll-gradient);
        }

        .hero {
            text-align: center;
            padding: 6rem 0;
            background: transparent;
            color: inherit;
            position: relative;
        }
        
        .dotted-surface {
            position: fixed;
            top: 0;
            left: 0;
            width: 100vw;
            height: 100vh;
            z-index: 1;
            pointer-events: none;
        }
        
        .hero .container {
            position: relative;
            z-index: 2;
        }
        
        .hero h1 {
            font-size: 3rem;
            margin-bottom: 1rem;
        }
        
        .hero p {
            font-size: 1.2rem;
            margin-bottom: 2rem;
            opacity: 0.9;
        }
        
        .btn {
            display: inline-block;
            padding: 0.75rem 1.5rem;
            text-decoration: none;
            border-radius: 5px;
            transition: all 0.3s;
            border: none;
            cursor: pointer;
            font-size: 1rem;
        }
        
        .btn-primary {
            background: #0066cc;
            color: white;
        }
        
        .btn-primary:hover {
            background: #0052a3;
        }
        
        .btn-outline {
            background: transparent;
            color: #333;
            border: 2px solid #333;
        }
        
        .btn-outline:hover {
            background: #333;
            color: white;
        }
        
        .section-title {
            text-align: center;
            margin-bottom: 3rem;
        }
        
        .section-title h2 {
            font-size: 2.5rem;
            margin-bottom: 1rem;
        }
        
        .section-title p {
            font-size: 1.1rem;
            color: #666;
        }
        
        .grid {
            display: grid;
            gap: 2rem;
        }
        
        .grid-2 {
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
        }
        
        .grid-3 {
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
        }
        
        .card {
            background: white;
            padding: 2rem;
            border-radius: 10px;
            box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
            transition: transform 0.3s, box-shadow 0.3s;
            display: flex;
            flex-direction: column;
        }
        
        .card:hover {
            transform: translateY(-2px);
            box-shadow: 0 8px 25px rgba(0, 0, 0, 0.15);
        }
        
        .card-footer {
            margin-top: auto;
            padding-top: 1rem;
            border-top: 1px solid #f0f0f0;
        }
        
        .read-more-link {
            color: #0066cc;
            text-decoration: none;
            font-weight: 500;
            font-size: 0.9rem;
            transition: color 0.3s;
        }
        
        .read-more-link:hover {
            color: #0052a3;
            text-decoration: underline;
        }
        
        .card-clickable {
            text-decoration: none;
            color: inherit;
            cursor: pointer;
        }
        .experience-item-clickable {
            text-decoration: none;
            color: inherit;
            cursor: pointer;
        }
        
        .card-clickable:hover {
            text-decoration: none;
            color: inherit;
        }
        
        .card-clickable:hover .read-more-link {
            color: #0052a3;
        }
        
        .card-clickable {
            position: relative;
            z-index: 10;
        }
        
        .tech-stack {
            display: flex;
            flex-wrap: wrap;
            gap: 0.5rem;
            margin-top: 1rem;
        }
        
        .tech-tag {
            background: #f0f0f0;
            padding: 0.3rem 0.8rem;
            border-radius: 20px;
            font-size: 0.9rem;
            color: #333;
        }
        
        .experience-item, .education-item {
            margin-bottom: 2rem;

        }
        
        .experience-item:last-child {
            border-bottom: none;
        }
        
        .job-header {
            display: flex;
            justify-content: space-between;
            align-items: flex-start;
            margin-bottom: 0.5rem;
            flex-wrap: wrap;
        }
        
        .job-title {
            font-size: 1.2rem;
            font-weight: 600;
            color: #333;
        }
        
        .job-date {
            color: #666;
            font-size: 0.9rem;
        }
        
        .job-description {
            color: #666;
            line-height: 1.6;
        }
        .course-work-text {
            color: #666;
            font-size: 0.9rem;
        }
        
        .bg-muted {
            background: #f8f9fa;
        }
        
        .contact-form {
            max-width: 600px;
            margin: 0 auto;
        }
        
        .form-group {
            margin-bottom: 1rem;
        }
        
        .form-group label {
            display: block;
            margin-bottom: 0.5rem;
            font-weight: 500;
        }
        
        .form-group input,
        .form-group textarea {
            width: 100%;
            padding: 0.75rem;
            border: 1px solid #ddd;
            border-radius: 5px;
            font-size: 1rem;
        }
        
        .form-group textarea {
            height: 120px;
            resize: vertical;
        }
        
        footer {
            color: black;
            text-align: center;
            padding: 2rem 0;
        }
        
        .social-links {
            display: flex;
            justify-content: center;
            gap: 2rem;
            margin-bottom: 1rem;
        }
        
        .social-links a {
            color: black;
            text-decoration: none;
            transition: opacity 0.3s;
        }
        
        .social-links a:hover {
            opacity: 0.7;
        }
        
        .profile-image {
            width: 120px;
            height: 120px;
            border-radius: 50%;
            object-fit: cover;
            margin: 0 auto 1.5rem;
            display: block;
            border: 4px solid rgba(255, 255, 255, 0.2);
        }
        
        .about-content {
            display: flex;
            align-items: flex-start;
            gap: 2rem;
            max-width: 800px;
            margin: 0 auto;
        }
        
        .about-text {
            flex: 1;
        }
        
        .about-image {
            width: 200px;
            height: 250px;
            object-fit: cover;
            border-radius: 8px;
            flex-shrink: 0;
        }
        
        .project-logo {
            width: 40px;
            height: 40px;
            object-fit: contain;
            margin-bottom: 1rem;
            border-radius: 4px;
        }
        
        .company-logo {
            width: 32px;
            height: 32px;
            object-fit: contain;
            margin-right: 0.75rem;
            vertical-align: middle;
            border-radius: 4px;
        }
        
        /* PDF Preview Modal */
        .pdf-modal {
            display: none;
            position: fixed;
            z-index: 1000;
            left: 0;
            top: 0;
            width: 100%;
            height: 100%;
            background-color: rgba(0, 0, 0, 0.8);
        }
        
        .pdf-modal-content {
            position: relative;
            background-color: white;
            margin: 2% auto;
            width: 90%;
            max-width: 800px;
            height: 90%;
            border-radius: 8px;
            display: flex;
            flex-direction: column;
        }
        
        .pdf-modal-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 1rem;
            border-bottom: 1px solid #e5e5e5;
            background-color: #f8f9fa;
            border-radius: 8px 8px 0 0;
        }
        
        .pdf-modal-title {
            font-size: 1.2rem;
            font-weight: 600;
            margin: 0;
        }
        
        .pdf-modal-close {
            background: none;
            border: none;
            font-size: 1.5rem;
            cursor: pointer;
            padding: 0;
            width: 30px;
            height: 30px;
            display: flex;
            align-items: center;
            justify-content: center;
            border-radius: 50%;
            transition: background-color 0.2s;
        }
        
        .pdf-modal-close:hover {
            background-color: #e5e5e5;
        }
        
        .pdf-modal-body {
            flex: 1;
            padding: 0;
            overflow: hidden;
        }
        
        .pdf-frame {
            width: 100%;
            height: 100%;
            border: none;
            border-radius: 0 0 8px 8px;
        }
        
        .pdf-modal-footer {
            padding: 1rem;
            border-top: 1px solid #e5e5e5;
            background-color: #f8f9fa;
            text-align: center;
            border-radius: 0 0 8px 8px;
        }
        
        @media (max-width: 768px) {
            .about-content {
                flex-direction: column;
                align-items: center;
                text-align: center;
            }
            
            .about-image {
                width: 150px;
                height: 180px;
                order: -1;
            }
            .hero h1 {
                font-size: 2rem;
            }
            
            nav ul {
                gap: 1rem;
            }
            
            .job-header {
                flex-direction: column;
            }
            
            .section-title h2 {
                font-size: 2rem;
            }
        }
    </style>
</head>
<body>

    <main>
        <div class="dotted-surface" id="dottedSurface"></div>
        <section class="hero">
            <div class="container">
                <img src="/public/optimized/profile_image.webp" alt="Douglas Seo" class="profile-image">
                <h1>Douglas Seo</h1>
                <div class="section-title">
                    <p>서경덕 - B.S. in Electrical Engineering and Computer Science at UC Berkeley - Founder and Engineer</p>
                </div>
                    <p>
                        My Grandfather learned English in the soup kitchens of the war that reduced his childhood home to ash and rubble. His work in city government built the Korea we know today.
                    </br>
                        My father learned English at Samsung (also lasers and RF), then at HP he pioneered Sillicon Valley MEMS sensors to all of East Asia. He left on the back of cattle drawn carriage, and returned with a Tesla.
                    </br>
                        I, with the selfless love of my mother and grandmother, learned English in Kindergarten, and strive to learn how to build a sustainably better future for all. I've built some cool stuff, like an app that pays you for hanging out with friends, and made some money for small businesses along the way. 
                    </p>
                    <p>
                        Now, I want to build using my physics and math background.
                        </br>
                        Fluent in English, Korean, Python, Spanish, JavaScript. Learning Japanese, LaTex, and Learning.
                        </br>
                        When I'm not building, you can find me playing with a ball or facetiming my gf. I'm always open to discussing new ideas and potential collaborations.
                        </br>
                        I nerd out over physics, math, spirituality, philanthropy, and hacking the money system.
                        </br>
                    </p>
                    
            </div>
        </section>

        <section id="experience">
            <div class="container">
                <div style="max-width: 800px; margin: 0 auto;">
                    <h3 style="margin-bottom: 2rem; font-size: 1.8rem;">Experience</h3>
                    
                    <a href="https://azetta.ai" target="_blank" rel="noopener noreferrer" class="experience-item-clickable">
                    <div class="experience-item">
                        <div class="job-header">
                            <div class="job-title"><img src="/public/azetta-logo.svg" alt="Azetta AI logo" class="company-logo">Co-Founder at Azetta AI - Cosma</div>
                            <div class="job-date">2025 - Present</div>
                        </div>
                        <div class="job-description">
                            Co-founded and developing the world's most efficient, developer-friendly AI embedding, vector search, and Machine Learning model serving platform. Building a revolutionary platform for developers and data scientists. Python, Linear Algebra, Vector Databases, Machine Learning, Distributed Systems, PostgreSQL, Supabase, Prisma, Next.js.
                        </div>
                    </div>
                    </a>
                    <a href="https://werkflow.us" target="_blank" rel="noopener noreferrer" class="experience-item-clickable">
                    <div class="experience-item">
                        <div class="job-header">
                            <div class="job-title"><img src="/public/werkflow-logo.png" alt="Werkflow logo" class="company-logo">Founding Engineer (Employee #1 and Technical Lead) at Werkflow</div>
                            <div class="job-date">2024 - 2025</div>
                        </div>
                        <div class="job-description">
                            Leading the development of an all-in-one software platform for dancers, helping them manage their community, finances, and turn their passion into a career. Building core infrastructure and features as the first engineering hire. React, Prisma, Supabase, Next.js.
                        </div>
                    </div>
                    </a>
                    <a href="https://popper.social" target="_blank" rel="noopener noreferrer" class="experience-item-clickable">
                    <div class="experience-item">
                        <div class="job-header">
                            <div class="job-title"><img src="/public/optimized/popper-logo.webp" alt="Popper logo" class="company-logo">Founder & CEO at Popper</div>
                            <div class="job-date">2022 - 2024</div>
                        </div>
                        <div class="job-description">
                            Founded and developed a social + rewards app with over 3k+ Monthly Active Users and 60+ business clients. Gross $300k+ annual merchandise value created. Built with React Native, React, and Firebase, designed with Figma.
                        </div>
                    </div>
                    </a>

                    <a href="https://github.com/seoking23" target="_blank" rel="noopener noreferrer" class="experience-item-clickable">
                    <div class="experience-item">
                        <div class="job-header">
                            <div class="job-title"><img src="/public/optimized/tomylovemiwa-icon.webp" alt="Tomy Love Miwa logo" class="company-logo">Freelance Developer</div>
                            <div class="job-date">2022 - 2024</div>
                        </div>
                        <div class="job-description">
                            Worked on various web and mobile development projects for clients across different industries. Specialized in React, Node.js, and PostgreSQL Supabase applications.
                        </div>
                    </div>
                    </a>
                    <a href="https://ipira.berkeley.edu/chirp-microsystems-inc" target="_blank" rel="noopener noreferrer" class="experience-item-clickable">
                    <div class="experience-item">
                        <div class="job-header">
                            <div class="job-title"><img src="/public/optimized/chirp-microsystems.webp" alt="Chirp Microsystems logo" class="company-logo">Software Engineering Intern at Chirp Microsystems (TDK)</div>
                            <div class="job-date">2019</div>
                        </div>
                        <div class="job-description">
                            Developed Python/C++ automation tools for sensor data processing and analysis. Improved testing efficiency by 40%.
                        </div>
                    </div>
                    </a>

                    <h3 style="margin-bottom: 2rem; margin-top: 3rem; font-size: 1.8rem;">Education</h3>
                    
                    <div class="education-item" id="education-item">
                        <div class="job-header">
                            <div class="job-title"><img src="/public/optimized/UCB_seal.webp" alt="UC Berkeley seal" class="company-logo">B.S. in Electrical Engineering and Computer Science (EECS)</div>
                            <div class="job-date">2018 - 2022</div>
                            
                        </div>
                        <div class="job-description" style="margin-bottom: 0.8rem;">
                            University of California, Berkeley
                        </div>
                        <div class="education-highlight">
                            <span class="course-work-text">Intro to Artificial Intelligence & Machine Learning, Discrete Math, Linear Algebra, Calculus, Physics, Data Structures & Algorithms, Entrepreneurship, Web Development, Cybersecurity</span>
                        </div>
                    </div>
                </div>
            </div>
        </section>

    </main>

    <footer>
        <div class="container">
            <div class="social-links">
                <a href="https://github.com/seoking23" target="_blank" rel="noopener noreferrer">GitHub</a>
                <a href="https://twitter.com/seoking23" target="_blank" rel="noopener noreferrer">Twitter</a>
                <a href="https://instagram.com/douglas_seo" target="_blank" rel="noopener noreferrer">Instagram</a>
                <a href="https://linkedin.com/in/douglas-seo-337133186/" target="_blank" rel="noopener noreferrer">LinkedIn</a>
            
            </div>
            <div class="social-links">
                <a href="tel:7079539522" style="cursor: pointer; text-decoration: underline;">707.953.9522</a>
                <span style="margin: 0 0.5rem; color: #ccc;">|</span>
                <a href="sms:7079539522" style="cursor: pointer; text-decoration: underline;">Text Me</a>
                <span style="color: #ccc;">|</span>
                <a id="email-address" href="mailto:douglasseo.business@gmail.com" style="cursor: pointer; text-decoration: underline;">Email Me</a>
            </div>
        </div>
    </footer>

    <!-- PDF Preview Modal -->
    <div id="pdfModal" class="pdf-modal">
        <div class="pdf-modal-content">
            <div class="pdf-modal-header">
                <h3 class="pdf-modal-title">Resume Preview</h3>
                <button class="pdf-modal-close" onclick="closePdfModal()">&times;</button>
            </div>
            <div class="pdf-modal-body">
                <iframe id="pdfFrame" class="pdf-frame" src=""></iframe>
            </div>
            <div class="pdf-modal-footer">
                <a id="pdfDownloadLink" href="" target="_blank" class="btn btn-primary" download>
                    Download PDF
                </a>
            </div>
        </div>
    </div>

    <script>
        // Minimal JavaScript for smooth scrolling and form handling
        document.querySelectorAll('a[href^="#"]').forEach(anchor => {
            anchor.addEventListener('click', function (e) {
                e.preventDefault();
                const target = document.querySelector(this.getAttribute('href'));
                if (target) {
                    target.scrollIntoView({ behavior: 'smooth', block: 'start' });
                }
            });
        });

        // Copy email functionality
        document.getElementById('email-address').addEventListener('click', function(e) {
                const email = 'douglasseo.business@gmail.com';
                
                if (navigator.clipboard && window.isSecureContext) {
                    navigator.clipboard.writeText(email).then(() => {
                        showCopySuccess();
                    }).catch(() => {
                        fallbackCopyEmail(email);
                    });
                } else {
                    fallbackCopyEmail(email);
                }
            
        });

        function showCopySuccess() {
            const successMsg = document.getElementById('copy-success');
            successMsg.style.display = 'inline';
            setTimeout(() => {
                successMsg.style.display = 'none';
            }, 2000);
        }

        function fallbackCopyEmail(email) {
            const textArea = document.createElement('textarea');
            textArea.value = email;
            textArea.style.position = 'fixed';
            textArea.style.left = '-9999px';
            document.body.appendChild(textArea);
            textArea.focus();
            textArea.select();
            
            try {
                document.execCommand('copy');
                showCopySuccess();
            } catch (err) {
                alert('Failed to copy email. Please copy manually: ' + email);
            }
            
            document.body.removeChild(textArea);
        }

        // PDF Modal Functions
        function openPdfModal(pdfUrl, title = 'Resume Preview') {
            const modal = document.getElementById('pdfModal');
            const frame = document.getElementById('pdfFrame');
            const downloadLink = document.getElementById('pdfDownloadLink');
            const modalTitle = document.querySelector('.pdf-modal-title');
            
            modalTitle.textContent = title;
            frame.src = pdfUrl;
            downloadLink.href = pdfUrl;
            modal.style.display = 'block';
            
            // Prevent body scroll when modal is open
            document.body.style.overflow = 'hidden';
        }

        function closePdfModal() {
            const modal = document.getElementById('pdfModal');
            const frame = document.getElementById('pdfFrame');
            
            modal.style.display = 'none';
            frame.src = '';
            
            // Re-enable body scroll
            document.body.style.overflow = 'auto';
        }

        // Close modal when clicking outside of it
        document.getElementById('pdfModal').addEventListener('click', function(e) {
            if (e.target === this) {
                closePdfModal();
            }
        });

        // Close modal with Escape key
        document.addEventListener('keydown', function(e) {
            if (e.key === 'Escape') {
                closePdfModal();
            }
        });

        // Three.js Dotted Surface Animation with fault-tolerant rendering
        function initDottedSurface() {
            try {
                // Verify Three.js is available
                if (typeof THREE === 'undefined') {
                    console.warn('Three.js not loaded, skipping dotted surface animation');
                    return;
                }

                const container = document.getElementById('dottedSurface');
                if (!container || !container.offsetWidth || !container.offsetHeight) {
                    console.warn('Dotted surface container not ready or invalid dimensions');
                    return;
                }

                // Check WebGL support
                const canvas = document.createElement('canvas');
                const gl = canvas.getContext('webgl') || canvas.getContext('experimental-webgl');
                if (!gl) {
                    console.warn('WebGL not supported, skipping dotted surface animation');
                    return;
                }

                const SEPARATION = 150;
                const AMOUNTX = Math.max(10, Math.min(40, Math.floor(container.offsetWidth / 30)));
                const AMOUNTY = Math.max(15, Math.min(60, Math.floor(container.offsetHeight / 20)));

                // Scene setup with error handling
                let scene, camera, renderer, geometry, material, points;
                let count = 0;
                let animationId;
                let isVisible = true;
                let isInitialized = false;

                try {
                    scene = new THREE.Scene();
                    scene.fog = new THREE.Fog(0xffffff, 2000, 10000);

                    camera = new THREE.PerspectiveCamera(
                        60,
                        container.offsetWidth / container.offsetHeight,
                        1,
                        10000
                    );
                    camera.position.set(0, 355, 1220);

                    renderer = new THREE.WebGLRenderer({
                        alpha: true,
                        antialias: window.devicePixelRatio < 2,
                        powerPreference: "low-power"
                    });
                    
                    renderer.setPixelRatio(Math.min(window.devicePixelRatio, 2));
                    renderer.setSize(container.offsetWidth, container.offsetHeight);
                    renderer.setClearColor(scene.fog.color, 0);

                    container.appendChild(renderer.domElement);
                } catch (renderError) {
                    console.warn('Failed to initialize Three.js renderer:', renderError);
                    return;
                }

                // Create particles with error handling
                try {
                    const positions = [];
                    const colors = [];

                    geometry = new THREE.BufferGeometry();

                    for (let ix = 0; ix < AMOUNTX; ix++) {
                        for (let iy = 0; iy < AMOUNTY; iy++) {
                            const x = ix * SEPARATION - (AMOUNTX * SEPARATION) / 2;
                            const y = 0;
                            const z = iy * SEPARATION - (AMOUNTY * SEPARATION) / 2;

                            positions.push(x, y, z);
                            colors.push(255, 255, 255);
                           
                        }
                    }

                    geometry.setAttribute(
                        'position',
                        new THREE.Float32BufferAttribute(positions, 3)
                    );
                    geometry.setAttribute('color', new THREE.Float32BufferAttribute(colors, 3));

                    material = new THREE.PointsMaterial({
                        size: 10,
                        vertexColors: true,
                        transparent: true,
                        opacity: 0.7,
                        sizeAttenuation: true
                    });

                    points = new THREE.Points(geometry, material);
                    scene.add(points);
                    isInitialized = true;
                } catch (geometryError) {
                    console.warn('Failed to create dotted surface geometry:', geometryError);
                    cleanup();
                    return;
                }

                // Intersection Observer for performance optimization
                const observer = new IntersectionObserver((entries) => {
                    entries.forEach(entry => {
                        isVisible = entry.isIntersecting;
                    });
                }, { threshold: 0.1 });

                observer.observe(container);

                // Optimized animation function
                function animate() {
                    if (!isInitialized || !isVisible) {
                        animationId = requestAnimationFrame(animate);
                        return;
                    }

                    try {
                        const positionAttribute = geometry.attributes.position;
                        const positions = positionAttribute.array;

                        let i = 0;
                        for (let ix = 0; ix < AMOUNTX; ix++) {
                            for (let iy = 0; iy < AMOUNTY; iy++) {
                                const index = i * 3;
                                positions[index + 1] =
                                    Math.sin((ix + count) * 0.3) * 50 +
                                    Math.sin((iy + count) * 0.5) * 50;
                                i++;
                            }
                        }

                        positionAttribute.needsUpdate = true;
                        renderer.render(scene, camera);
                        count += 0.1;
                    } catch (animationError) {
                        console.warn('Animation error:', animationError);
                    }

                    animationId = requestAnimationFrame(animate);
                }

                // Enhanced resize handler
                function handleResize() {
                    if (!isInitialized || !container || !camera || !renderer) return;
                    
                    try {
                        const width = container.offsetWidth;
                        const height = container.offsetHeight;
                        
                        if (width > 0 && height > 0) {
                            camera.aspect = width / height;
                            camera.updateProjectionMatrix();
                            renderer.setSize(width, height);
                        }
                    } catch (resizeError) {
                        console.warn('Resize error:', resizeError);
                    }
                }

                // Comprehensive cleanup function
                function cleanup() {
                    try {
                        if (observer) observer.disconnect();
                        window.removeEventListener('resize', handleResize);
                        if (animationId) cancelAnimationFrame(animationId);
                        
                        if (scene) {
                            scene.traverse((object) => {
                                if (object.geometry) object.geometry.dispose();
                                if (object.material) {
                                    if (Array.isArray(object.material)) {
                                        object.material.forEach((material) => material.dispose());
                                    } else {
                                        object.material.dispose();
                                    }
                                }
                            });
                            scene.clear();
                        }
                        
                        if (renderer) {
                            renderer.dispose();
                            renderer.forceContextLoss();
                            if (container && renderer.domElement && container.contains(renderer.domElement)) {
                                container.removeChild(renderer.domElement);
                            }
                        }

                        isInitialized = false;
                    } catch (cleanupError) {
                        console.warn('Cleanup error:', cleanupError);
                    }
                }

                window.addEventListener('resize', handleResize);
                window.addEventListener('beforeunload', cleanup);

                // Start animation
                animate();

                // Store cleanup function globally
                window.dottedSurfaceCleanup = cleanup;

            } catch (initError) {
                console.warn('Failed to initialize dotted surface:', initError);
            }
        }

        // Safe initialization with multiple fallbacks
        function safeDottedSurfaceInit() {
            if (document.readyState === 'loading') {
                document.addEventListener('DOMContentLoaded', initDottedSurface);
            } else {
                // DOM already loaded, but wait a bit for Three.js to be available
                setTimeout(initDottedSurface, 100);
            }
        }

        safeDottedSurfaceInit();
    </script>
</body>
</html>